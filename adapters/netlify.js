!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.SimplaNetlify=t()}(this,function(){"use strict";function n(n){window.addEventListener("message",function t(){n.apply(void 0,arguments)&&window.removeEventListener("message",t,!1)},!1)}function t(){return["toolbar=no","location=no","directories=no","status=no","menubar=no","scrollbars=no","resizable=no","copyhistory=no","width=960","height=600","top="+(screen.height/2-300),"left="+(screen.width/2-480)].join(",")}function e(){return new Promise(function(t,e){n(function(n){var r=void 0,o=void 0;if(n.origin!==a)return!1;var i=n.data.match(new RegExp("^"+s+":("+l+"|"+h+"):(.+)$")),c=u(i,3);return o=c[1],r=c[2],r=JSON.parse(r),o===h?e(new Error(r)):t(r),!0})})}function r(t){return new Promise(function(e){n(function(n){if(n.data===f&&n.origin===a)return t.postMessage(n.data,n.origin),e(),!0})})}!function(){function n(n){this.value=n}function t(t){function e(o,i){try{var u=t[o](i),a=u.value;a instanceof n?Promise.resolve(a.value).then(function(n){e("next",n)},function(n){e("throw",n)}):r(u.done?"return":"normal",u.value)}catch(n){r("throw",n)}}function r(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?e(o.key,o.arg):i=null}var o,i;this._invoke=function(n,t){return new Promise(function(r,u){var a={key:n,arg:t,resolve:r,reject:u,next:null};i?i=i.next=a:(o=i=a,e(n,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(n){return this._invoke("next",n)},t.prototype.throw=function(n){return this._invoke("throw",n)},t.prototype.return=function(n){return this._invoke("return",n)}}();var o=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(){function n(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="https://api.netlify.com",c="github",f="authorizing:"+c,s="authorization:"+c,l="success",h="fail",v=".netlify.com";return function(){function n(t){var e=t.site;o(this,n),this._authUrl=a+"/auth?scope=repo&provider="+c+"&site_id="+(e+v)}return i(n,[{key:"authenticate",value:function(){var n=window.open(this._authUrl,"_blank",t()),o=r(n).then(e);return n.focus(),o.then(function(){return n.close()}),o}}]),n}()});
