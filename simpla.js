!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Simpla",t):e.Simpla=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports,O),t.exports}function t(){I=!1,T.length?k=T.concat(k):_=-1,k.length&&n()}function n(){if(!I){var e=setTimeout(t);I=!0;for(var n=k.length;n;){for(T=k,k=[];++_<n;)T&&T[_].run();_=-1,n=k.length}T=null,I=!1,clearTimeout(e)}}function o(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];k.push(new r(e,t)),1!==k.length||I||setTimeout(n,0)}function r(e,t){this.fun=e,this.array=t}function i(){}function f(e){throw new Error("process.binding is not supported")}function u(){return"/"}function c(e){throw new Error("process.chdir is not supported")}function a(){return 0}function s(e){var t=.001*Q.call(K),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],o-=e[1],o<0&&(n--,o+=1e9)),[n,o]}function p(){var e=new Date,t=e-W;return t/1e3}function l(e){return Z(Object(e))}function d(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function y(e){return!!e&&"object"==("undefined"==typeof e?"undefined":S["typeof"](e))}function h(e){if(!y(e)||re.call(e)!=$||d(e))return!1;var t=l(e);if(null===t)return!0;var n=ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==oe}function m(e,t,n){function o(){d===l&&(d=l.slice())}function r(){return p}function i(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),d.push(e),function(){if(t){t=!1,o();var n=d.indexOf(e);d.splice(n,1)}}}function f(e){if(!h(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,p=s(p,e)}finally{y=!1}for(var t=l=d,n=0;n<t.length;n++)t[n]();return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,f({type:ae.INIT})}function c(){var e,t=i;return e={subscribe:function(e){function n(){e.next&&e.next(r())}if("object"!==("undefined"==typeof e?"undefined":S["typeof"](e)))throw new TypeError("Expected the observer to be an object.");n();var o=t(n);return{unsubscribe:o}}},e[ce]=function(){return this},e}var a;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(m)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,p=t,l=[],d=l,y=!1;return f({type:ae.INIT}),a={dispatch:f,subscribe:i,getState:r,replaceReducer:u},a[ce]=c,a}function b(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}function w(){}function v(e){return{type:de,prop:"authEndpoint",value:e}}function g(e){return{type:de,prop:"dataEndpoint",value:e}}function E(e){return{type:se,href:e}}function x(e,t){return{type:le,href:e}}function j(e){return{type:pe,href:e}}function N(e){return function(t,n){var o=n(),r=o.imports,i=void 0;if(i=document.createElement("link"),i.href=e,i.rel="import",i.async=!0,!r[i.href]||"failed"===r[i.href].status)return t(E(i.href)),new Promise(function(e,t){i.onload=e,i.onerror=t,document.head.appendChild(i)}).then(function(){return t(j(i.href))},function(){return t(x(i.href))})}}var O="undefined"!=typeof window?window:"undefined"!=typeof global?global:this,S={};S["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},S.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var T,A="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},k=[],I=!1,_=-1;r.prototype.run=function(){this.fun.apply(null,this.array)};var D="browser",P="browser",R=!0,C={},L=[],z="",M={},V={},Y={},q=i,F=i,H=i,U=i,B=i,G=i,J=i,K=A.performance||{},Q=K.now||K.mozNow||K.msNow||K.oNow||K.webkitNow||function(){return(new Date).getTime()},W=new Date,X={nextTick:o,title:D,browser:R,env:C,argv:L,version:z,versions:M,on:q,addListener:F,once:H,off:U,removeListener:B,removeAllListeners:G,emit:J,binding:f,cwd:u,chdir:c,umask:a,hrtime:s,platform:P,release:V,config:Y,uptime:p},Z=Object.getPrototypeOf,$="[object Object]",ee=Object.prototype,te=Function.prototype.toString,ne=ee.hasOwnProperty,oe=te.call(Object),re=ee.toString,ie=e(function(e){e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}}),fe=ie&&"object"===("undefined"==typeof ie?"undefined":S["typeof"](ie))&&"default"in ie?ie["default"]:ie,ue=e(function(e,t,n){e.exports=fe(n||window||O)}),ce=ue&&"object"===("undefined"==typeof ue?"undefined":S["typeof"](ue))&&"default"in ue?ue["default"]:ue,ae={INIT:"@@redux/INIT"};"production"!==X.env.NODE_ENV&&"string"==typeof w.name&&"isCrushed"!==w.name&&b("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.");var se="import-element",pe="import-element-success",le="import-element-failed",de="set-option",ye="https://api.simpla.io",he="https://elements.simpla.io",me=["simpla-img/simpla-img.html","simpla-text/simpla-text.html","simpla-block/simpla-block.html","sm-admin/sm-admin.html"],be=he+"/",we=function(e,t){return e},ve=m(we),ge=function Ee(e){Ee._store=Ee._store||ve;var t=void 0,n="",o=void 0,r=void 0,i=[];o=ye,Ee._store.dispatch(v(o)),t="string"==typeof e?e:e.project,r=ye+"/projects/"+t+"/items",Ee._store.dispatch(g(r)),"undefined"==typeof e.elements?(i=me,n=be):e.elements instanceof Array?i=e.elements:e.elements&&(i=e.elements.paths||me,n=e.elements.base||be),i.forEach(function(e){return Ee._store.dispatch(N(""+n+e))})};return ge});